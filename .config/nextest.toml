# Nextest configuration
# See https://nexte.st/book/configuration.html

[profile.default]
test-threads = "num-cpus"
retries = 0
slow-timeout = { period = "60s", terminate-after = 2 }

[profile.ci]
retries = 2
fail-fast = false

# Test group for persistence tests that share filesystem state
[test-groups.serial-persistence]
max-threads = 1

# Assign persistence tests to the serial group
[[profile.default.overrides]]
filter = "test(/persistence/)"
test-group = "serial-persistence"
